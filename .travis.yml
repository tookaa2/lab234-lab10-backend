language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/1.20.1/docker-compose-`uname -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t $DOCKER_USERNAME/se234-lab10-backend .
- docker push tookaa2/se234-lab10-backend
- docker pull tookaa2/se234-lab10-client
script:
- docker-compose --version
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: UPZqDi79FhNIA0yh08gWMTPlNb/UsJV/H4kX5TSFDPffLbgxzg7l+NSp0sT1domvrLVm3CFHym4IEFlI+leiok+PkUMaAoFqWkxge1rHH0PHBcPaZuKDVeoklhUL5ahOHJTnmixDhLh/odBOUk0y/O1BQ+sRQfutKYKWAshWYLwD1GSypLU75oI+YkgRx10Jf0fWZCC5CGVbISBV7zf+hMcmeJuW9ebNmG05mqcC6uBhJqEJRkHL0tIaI8wh8FjAEzsigHKFUGuVE4U2oQl2w0/NrB3DDdX45jt3QdY0dkymIPMSJqY/bIGWMnkrA9ccjVN4nKb/mYcEMgKyRoiNOThnjGSc5BCWak9pc72n3kjBPMy/GPHp/hCMLnL5QXQWqqg+IamzAMLsIXPkWqQ4sBIolKxejT5EW3tvB+Vri02eMdS/hT5R/v+VoweuLV8qWQ2to3d92Zg7VmmmR+httltsy4CfSZIF/OamOLX/BbYJ6arHpSs40SMtpuM/N/TP1xXL7MRpEJ458iNUwBsILIm9gDaHDDr9qTfY7pSWYN6gPQKPCv0F2GyjjT1X1qkXK2HzOhiDoihjLpwtEDJHuOI1x+cirBsnjZ9uPlepa2RutoVLQfK4AFwNmyI1bUjYS6UxXWhqpLQkOUkv75v6Uge2rOpL5mYMrAUpboZqTpU=
  - secure: ez4YsthECqFp73mxGFOX384JlIHphLUl4Ktz+QdqG2HsBs6+JXDuu6NCx033rnXcvAoFACPLJcyABhcOr/nCKvgW+Qsu/duTzH519Gws/TkoHJx47TtSEVxsSm4Yha7QM3S4/lII0KdOKPN3+XlkGTW/W6L/yIWuB/wpDV6ogs04KCz4iwd6kT6MzzZjNq+wLcqgzH1QW+Y8upzLhb3i7Yt0F5BHafkmd/8ne9jT5DiwdArLrfrFoHkcU72gkYRgDNjp1HnmVg9eoosOHTQtoSKeJi4dzBw5WGi0P5MUOopIUR9MwHK1RVM6t5RZS3lP3BLyDD4qDfyO5D3hWZjQqHJMFllT2ECC9kpfSA4kCsRQBeAyholFm0lHelDjG9dVZXaEBh8h7121a7e3V2eAZ5m2Sl9MLO+j2l7w3mTv4MttZZpFihtWOkjghHgxfTzasXoRyXeFlYImitEXdb0khfToSlPODebt+o6IH7pKVfntTE3/Gpj0EGUUqJ+++c7bbtYsfb2J37GxYA3rJw3qHTrH9D7nxibcliCfd2jbDt4DnYnm1W+VvLpzE5QJ32BAzqxT7DEaFrN/kNMhscJs0jSW5brt65e712yrd9DJtEf6McjrlqnMugJkC9Kfq9DJbBxDQhVn3TsadUsEs381fYkR8jTcbyGytijCqeYumlQ=
  - secure: s3GaAVtfHUujOwhIYbd7Y93fzXilKrrojwa9/3+yyFeDDzC0XPSOw3H4PUwzRJkY0GdiWiz/sYxRwInY0nX3LK4ZjB8Q1pzyC/6C+y3ZraCWm85FA/QJD1w6CeUdxjUZGhB9DgY75vDt+SpVymRgPYJdbtAQLYI0MToAGBQhh9i9+dGZO7qvfvTvq16DKB1h6AHszhXRcPGLDxP0Y++Z4Py1Fcj9h9FEMLMVEHped7FEEDOdlhz45IKqWGXl0o7cZyjxMBP/uIMJU6a0amT+uDLK5TvIeYnqPRVWR/Ff6v5rAz+mhK9gOxAaLvB411kAq/5dWaGz/vjjXcOBQPG7Ow/SSYx1tWcU0/OS+/5fl6tNYw+OmCfq8QvOfSj9wqwS4KMPFDuPYQqJ+B0F82URF56EPwdIr0jiEps3RtFy8NWvl88PUKbrDC9eoA5WCMmlRd6P9nTnYlabtg/ETK32Z0GUdfd1+NpSSjpphmK//GoHN4oTIT4Kw0COp+8gOuQmQCldWcoKS4luc1sG48tHsXMjHv8gBvYwwlzKZGF13hXmdLu9BjzlizU4k9CGKl4jcB2BSm5r5Qohtgx4yIl9zU5qTSutjxRK5PUa58Bl5n79VfjPRRAzmVxz2A2vh/Xqum4Kf1Iu29pMzyNoWNFnoSpbWrawZjZepnI3oqPyuOw=
  - secure: BinueI3WoWoqzNunWFTLHgSD9YEPC77tLkVpaGvx8GVnW93+vpyZmNjqvCd57aYQCjt3gF3idmJawdD7Y27dy/xOUZ9fcuXoj/w0eXZONWAA8/Pxmix/SbH0qnE0Wh9MhX7fdPXH/0tLi8ZmlNoJkfy0ZC6F2kE4HepbGY6/779/iT9DQnDQw9mlLyb5+DCguvERSxK4X4Ojvdiy2KjBpolmbKX8o8I1bYS6/7Toa54+btcMGsyaojmH+yVdek9OWCrW/7gJqBQgb60KCiFZhFy2DTlq5qxl38WMYrT2rLUR+Xam8avOt9v1AP2XE5eBexQAgzqT7/aYsKhq8ZQ2ej5L56semfKjhcvgH1OkaMIQDWTc7/gF2mcz7++iWsuayORQ86zRKOshBKuadI0Xz+au39RXhZecHBFxVzNNCupVghtNiRb8JkG7+zSfpz1qGLDbDoxJIGIZ6PGQ42Uvyw0QJblslzej5m8moS88TldH2dAZZmQXFbln1X7AJTyMQlXw7zf8leElyH64b6E+JhoN7U3P+6kdblsEUQxF0MgUSLJHrB7ZMmzHizGBCcQuNlOiE97dLVfLT+mwdCC1rJpmuiBpUx2yaooa9EA9MM0WndemM7hMf0vBmXaLfeCsDW+Fra9KBh7VT/V/5c3pttGlvqQPwGS+WoMrFe91s/I=
