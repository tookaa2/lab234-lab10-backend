language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-'uname-s'-'uname-m'
  > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t $DOCKER_USERNAME/se234-lab10-backend
  .
- docker push tookaa2/se234-lab10-backend
- docker pull tookaa2/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: vXPlLQcVB4BT9dGEfCFOR1LfqsoguCXFeRfy2gtXD8sJuBif7iBs/LOtKRX8WgW3ZnN4/HlDaw/Zf0kz4jleUKexoJBX08r6YDAPAxVHTE0F6qCrQm6AyM0Fr5DU+ncv6vInde0MkF59ASthEQVUMltOpqRKffYaRxNR4qpV8sMOG2t0cH78qZQsT9qFMIQTWwtCGMZWzsXhIgxs2JsFrGnFnt9Ygpeg1zq753YO6dMTpzo27vzHILKaVeQIuRTEt7NMP27bFchWXspPtsD2qNemg3HfueXDBPJUPKJrd85vDFRu5/cUtN5ILr5X45YOpGxzck7k+H45w1vupij4oIVs9OZub3UmGo8Uk6Khk3lQrV3YL64wMFo5OyOVGbPH3EZo0l4GLpk/NpejW9dDmPiCXogjMe+m45t5CERSJHtQAXSxUSwJeBaLGIbOmIfnhqqge1E+AhYRvNm+H3lFq5vdEv/VD4XDWS5TlEI/+mskR1uot8unhxif0kEh339Nc9N4hEjKX/38Gk24tiZ5SaqL1mIiHtS+RI05zN+IcEuoOPZvgPCcXVRnTNtjb150IXL4Ne++ud1pE0WFKRdMp6Hm5PfIS+AKxhjq1FKxKLFDGLYT2h7XLPvsmM/f3atSEEZuIddS6i7aeQadrfdb5uGs/3FucGPGpcjTVOtbaaA=
  - secure: BQvIFT27V197xTiw1M8phT5f+07fuy1OmQtfw31pzBlbcLF1uSH6QUu/NOY5RxeJbuIBBrHMt7oSHCMCGjDUhhFiYHDAz9jGDgd8pH7dk1YVCEyLymUUmhtiR8FXq4EIhAOA9HDeRi8SJJRuCkyLdNlo61LJo9X68Ld+Pfm0c7JvjIkzc1eBtK5oEzzA8RPp0A19NhULbq08+VxRnsJIKvFrt/UbAOWRQI54ELDT1pxtp6Qj7t1D8XOrm/EBUAscwW8VW8NbN5doza+D3E07TYMstYkWpXZzOzpfVDM6c1+n9rOz3mB1Klwld3QKPFmdqTn2GYtj7x+68U4vfkLM7d31Ih842DnXi0jlI4eJk9gdwFc/rG2NUYkXI1dSw35Ah60Ana+8VMdQ8SYAmqJbsfgImBIfndmpeOLnVlos8kztzx9IV6uiQBGLaNGJU0PbI5muIErS9T+lq/tpXRijP5q2MTJYNNhbgvO0Vy/mw1Ata54dBwF6sFvgMszOGnX2dnGsncUCj4zYM8UkZJOX88i/SCv3uEZYPmJm4R0Qe+YVqYsUpyTyFGJHJpNYsoK0visvqGnyR/Ae/8GvYjaeaE7DGsVCJeXdD3jeyD188kNsppfVhTSfkhv2g0yr6jTZETDfo6OQoEB3xv2u7KNajGaN+xShNMy4ouBiJ44Nlbg=
  - secure: MDSF96hQL2OPSLOjGuimililgWi6P0/kwy5lw/09Y22gG7MS2FVBINX7/gZGDSXBfZQj79A6YydHrJkm+hqjf/LjteCPSQ9R/rligWRdoioa6mOdvMXXgbBo0+ZprAEkDYBHzDYTDm35waTWxv2YKM3V1l50dHZL8BeUnOBswc3ptx7o/pFmWweMYiCqBIS5926sBajqOc/a6hQQWSZzAeLcgFoeRG+Itc6FOTZW3jRCY7Ndlt7c+k4rvUGe3wX90JayZXX3ofsf59PRDiC6zlOur++3Jes+FUIVnL47pgdBj+OjlZL/tKghxjsjcYGneYumsQU2A3gGYcIGATnh3DqBQaSK0zMArLM5D7VDYhgXR/w88IiSUJEDp1qPKAhmZ8iM2KsjdejSGhTiCNz2xDuNQZO9LV/Xkpw7ymL/kDgwSuGLRMQYnkI2cEu64p/M07Bp6Jc2WcaGrRR7dAqxS1mAzj6YyI8QPtcLl+dyj0lt9x5VxVX+/8VsPmISLJZg05ZqmN/wjeonYqveXvGj+82kvmv0K4IgU27XbyZ0kdYTc/AS+ThL0jQWe5rwfsUpNsCoMpTnWj8eoF8ZsxJywDmCWgPDIOGWfEkNt4gBjELtgMGGGWinavRmibyAUNF1DOHH4UMj0CsI2QUlHoZZo1wi11JtqExq0KAPtbC2x8U=
  - secure: hx1CO0kj+IEyHNdZUqn/98KkvFa/gWc0bQJwFi7Wgal+zT+hWtE52UM1Frk8Tnz+PyDrYhByrZg48wqISXaH73zSSdGmkn28QYlXRxfLieg50W+7wwDKTzytmy1slt6NcQy/5oPPqxbPl/Tlh+P1CSp6KPLZNpy9eBOyHx1Ha1RSukXcHAbcoOckTH9vPcGd1zjfSrShWf3qvuaFRa3zfK0mekHLiB4+NiupHdHFMHksGyF4fFQQKiUIII9GfIu41gqdUUrMX7tKNns90bpWeKR3ZH7XE5b6P5QfrjvNYoStw/CSRFWm33GfO7YNBJx/WeVPJ0w4mkD9AuemHd6AkfDvebF0HbNAkLVCi5rwCvVL3ZiEIdsNdy8aOoPUZf/5GA5zyUkwdNletcYzBHmOWpE1HRTpxR6cMggsmPK2hdUZE6qaejAz5uex+QSwz0elkdsYqSUcG01i58bJFhQsLi/xpCu41rWSyUcx88LRvcZR7Xu7Nr617GNg707eQsoGR9hyun9FyWeiovGjM8zYyyt4kKjkZ9rjJ4vWOIIqqz6939R/jkMakPBwD1BBzzbrkY5k38CSLY6hGtrdm1POZUXEih3asGbZ26eE3IONCk23v3fzQL5rJe5J9Xacd0pbpGQzNf2aqo0zxRC2NIT70a8p04NiYijVcxCr3ijUTII=
